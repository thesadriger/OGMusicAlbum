/* /home/ogma/ogma/ogma-webapp/src/index.css */
@import "tailwindcss";

/* где сканировать классы Tailwind (v4) */
@source "./index.html";
@source "./src/**/*.{ts,tsx}";

/* Запрет выделения текста по умолчанию для всего контейнера с .no-select */
.no-select {
  -webkit-user-select: none; /* iOS Safari */
  -moz-user-select: none;    /* Firefox */
  -ms-user-select: none;     /* old Edge */
  user-select: none;
}

/* Но внутри разрешаем выделение текста в интерактивных полях ввода,
   чтобы не ломать ввод, копипасту и др. UX */
.no-select input,
.no-select textarea {
  -webkit-user-select: text;
  -moz-user-select: text;
  -ms-user-select: text;
  user-select: text;
}

/* база */
@layer base {
  :root { color-scheme: light dark; }
  html.dark { color-scheme: dark; }

  /* тёмный базовый фон, чтобы не было белых вспышек до раннего скрипта */
  html { background: #0b0f1a; }

  body {
    @apply bg-transparent text-zinc-100;
  }
  html:not(.dark) body {
    @apply text-zinc-900;
  }
}

/* тонкий скроллбар в поповере */
.popover-scroll { scrollbar-width: thin; scrollbar-color: rgba(100,116,139,.45) transparent; }
.popover-scroll::-webkit-scrollbar { width: 8px; }
.popover-scroll::-webkit-scrollbar-thumb { background-color: rgba(100,116,139,.45); border-radius: 8px; }
.popover-scroll::-webkit-scrollbar-track { background: transparent; }

/* defaults */
:root { --ogma-player-h: 72px; }

@layer utilities {
  .player-safe {
    padding-bottom: calc(var(--ogma-player-h, 72px) + env(safe-area-inset-bottom));
    scroll-padding-bottom: calc(var(--ogma-player-h, 72px) + env(safe-area-inset-bottom) + 16px);
  }
}

/* Глобальная анимация появления/исчезновения элементов */
.viewport-reveal {
  opacity: 0;
  filter: blur(18px);
  transition: opacity 380ms cubic-bezier(0.22, 1, 0.36, 1),
    filter 480ms cubic-bezier(0.22, 1, 0.36, 1);
  will-change: opacity, filter;
}

.viewport-reveal--entered {
  will-change: opacity, filter;
}

.viewport-reveal--visible {
  opacity: 1;
  filter: none;
}

.viewport-reveal--hidden {
  /* оставляем pointer-events для корректного взаимодействия на границе области */
}